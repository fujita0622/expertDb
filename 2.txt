演習問題
2-1 サーバーのクラスタリング構成にはどのようながありうるか、調べてください。

2-2 ハードウェアのサイジングを行うには、現行システムのハードウェアリソース情報が欠かせません。これを取得するためのOSコマンドを、OS別に調べなさい

2-3 今後行われるシステム更改(つまりシステムのリプレース)プロジェクトにおいて、サイジングを担当することになりました。
話を単純にするために、単純なハードウェアリプレースのみで、アプリケーションには改修がはいらず、現行道理と仮定しましょう。
変更されるのは、サーバーやストレージなどハードウェアのみです。また、現行システムのアクセスログやリソースログは取得することができるため、レスポンスとスループットは算出できます。
しかし、プロジェクトマネージャーからは、つぎのように言われています。
「このシステム。今のお客さんからピーク時間帯になると遅いと苦情がくるんだ。今度はこんなことがないように、適切なハードウェアを選んでくれよ。」
プロジェクトの予算は少ないため、プロトタイプ検証を行う余裕はありません。さて、みなさんはどんな手順でサーバーのCPUについて机上サイニングを実行すれば良いでしょうか?
なるべく具体的に、主順を考えてください。


[2-1.回答]
1. アクティブ/アクティブ構成
すべてのサーバが稼働系サーバとして稼働している構成である。例えば、2台のサーバでクラスタを構成した場合、2台とも同じサービスを提供し、同時に共有ディスクに書き込みができる構成です。
この構成は負荷分散の機能も兼ね備えるため、ハイパフォーマンスでシステム利用率も高い。

2. アクティブ－パッシブ構成
共有ディスクを1台のサーバが専有するモデルです。
クラスタを構成するサーバは、稼働系と待機系に分けられ、仮に2台のサーバでクラスタを構成した場合は、稼働系サーバのみでクライアントへサービスを提供し、障害が発生した場合に初めて待機系に切り替える、いわゆるホットスタンバイ型のクラスタ構成です。
切り替え時にサーバのメモリ上にあるデータの扱いをどうするかを考慮する必要はあるが、構成が単純なため、さまざまなアプリケーションで対応が容易という利点がある。


[2-2.回答]
windows:typeperf,tasklist
mac:top,vm_stat,lsof
linux:vmstat,top,sar,mpstat,free,iostat


[2-3.回答]
1. アクセスログを確認し、ピーク時間帯を割り出す。
2. アクセスログで割り出したピーク時間帯のCPU/メモリ/ディスクの使用量をリソースログで確認
3. リソースログで確認した各種リソース使用量を元に増強するサーバーのサイジングを行う